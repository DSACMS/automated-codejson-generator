async function createCommit(state, treeCreated, changes) {
  const { octokit, repo, ownerOrFork, latestCommitSha } = state;
  const message = treeCreated ? changes.commit : typeof changes.emptyCommit === "string" ? changes.emptyCommit : changes.commit;
  const commit = {
    message,
    author: changes.author,
    committer: changes.committer,
    tree: state.latestCommitTreeSha,
    parents: [latestCommitSha]
  };
  const { data: latestCommit } = await octokit.request(
    "POST /repos/{owner}/{repo}/git/commits",
    {
      owner: ownerOrFork,
      repo,
      ...commit,
      signature: changes.signature ? await changes.signature(commit) : void 0
    }
  );
  return latestCommit.sha;
}
export {
  createCommit
};
